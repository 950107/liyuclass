<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>71-碰撞检测.html</title>
	<style>
		*{
			margin: 0;
			padding: 0;
		}
		#box1{
			width: 100px;
			height: 100px;
			background: #fedcba;
			position:absolute;
			top: 0;
			left: 0;
		}
		#box2{
			width: 300px;
			height: 300px;
			background: #abcdef;
			position:absolute;
			top: 300px;
			left: 600px;
		}
	</style>
</head>
<body>
	<div id="box1"></div>
	<div id="box2"></div>
</body>
<script>
	var oBox1 = document.getElementById('box1');
	var oBox2 = document.getElementById('box2');

	oBox1.onmousedown=function(ev){
		divL=ev.clientX-oBox1.offsetLeft;
		divT=ev.clientY-oBox1.offsetTop;

		oBox1.onmousemove=function(ev){
			if(oBox2.offsetLeft<=oBox1.offsetLeft+oBox1.offsetWidth
				&& oBox2.offsetTop<=oBox1.offsetTop+oBox1.offsetHeight
				&&oBox1.offsetLeft<=oBox2.offsetLeft+oBox2.offsetWidth
				&& oBox1.offsetTop<=oBox2.offsetTop+oBox2.offsetHeight
				){
				oBox2.style.background="red";
			}else{
				oBox2.style.background="#abcdef";
			}
			oBox1.style.left=ev.clientX-divL+'px';
			oBox1.style.top=ev.clientY-divT+'px';
		}
		oBox1.onmouseup=function(){
			oBox1.onmousemove=null;
			oBox1.onmouseup=null;
		}
	}
</script>
</html>